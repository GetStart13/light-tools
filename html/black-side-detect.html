<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        />
        <title>钢化膜黑边检测</title>
        <style>
            body,
            html {
                margin: 0;
                padding: 0;
                height: 100%;
                overflow: hidden;
            }
            .black-side-detect {
                position: absolute;
                width: 100%;
                height: 100%;
                box-sizing: border-box;
                border: 1px solid red;
            }
        </style>
    </head>
    <body>
        <div
            class="black-side-detect"
            id="black-side-detect"
        >
            <div style="margin: 1rem">
                <h5>检测钢化膜黑边是否遮挡屏幕</h5>
                <span>打开手机的自动旋转屏幕功能，旋转页面，如果哪一边红色被遮挡住，则说明钢化膜挡住了一部分屏幕</span>
                <button
                    id="increase"
                    type="button"
                >
                    加一
                </button>
                <button
                    id="reduce"
                    type="button"
                >
                    减一
                </button>
            </div>
        </div>
    </body>
    <script>
        const blackSideDetectDiv = document.getElementById("black-side-detect");
        let width = 1;
        const getBorder = width => `${width}px solid red`;

        const viewportWidthHalf = window.innerWidth / 2; // 获取浏览器视口的宽度
        const viewportHeightHalf = window.innerHeight / 2; // 获取浏览器视口的高度

        document.getElementById("increase").addEventListener("click", event => {
            if (width >= 1 && width <= viewportHeightHalf && width <= viewportWidthHalf) {
                width += 1;
            } else {
                width = 1;
            }
            blackSideDetectDiv.style.border = getBorder(width);
        });
        document.getElementById("reduce").addEventListener("click", event => {
            width = width > 1 ? width - 1 : 1;
            blackSideDetectDiv.style.border = getBorder(width);
        });
    </script>
</html>
